(function(e){function t(t){for(var s,o,i=t[0],c=t[1],l=t[2],u=0,h=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},r={app:0},n=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.game,expression:"!game"}],attrs:{id:"start"}},[a("div",{staticClass:"startNavButtons"},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.btnCreateGameRoom()}}},[e._v("Create room")]),a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.btnJoinGameRoom()}}},[e._v("Join room")])]),e.showCreateGame?a("div",{staticClass:"createGame"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.playerName,expression:"playerName"}],staticClass:"form-control",attrs:{placeholder:"Your game name"},domProps:{value:e.playerName},on:{input:function(t){t.target.composing||(e.playerName=t.target.value)}}})]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.numberOfPlayers,expression:"numberOfPlayers"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.numberOfPlayers=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"null"}},[e._v("Number of players")]),a("option",{attrs:{value:"2"}},[e._v("Two")]),a("option",{attrs:{value:"3"}},[e._v("Three")]),a("option",{attrs:{value:"2"}},[e._v("Four")]),a("option",{attrs:{value:"3"}},[e._v("Five")])])]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.deckType,expression:"deckType"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.deckType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"null"}},[e._v("Deck type")]),a("option",{attrs:{value:"standard-single"}},[e._v("Standard (52 cards)")]),a("option",{attrs:{value:"standard-double"}},[e._v("Standard (104 cards)")])])]),a("div",[a("button",{staticClass:"btn btn-success",on:{click:function(t){return e.createGameRoom()}}},[e._v("Create")])])]):e._e(),e.showJoinGame?a("div",{staticClass:"joinGame"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.playerName,expression:"playerName"}],staticClass:"form-control",attrs:{placeholder:"Your game name"},domProps:{value:e.playerName},on:{input:function(t){t.target.composing||(e.playerName=t.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.roomJoinCode,expression:"roomJoinCode"}],staticClass:"form-control",attrs:{placeholder:"Enter the join code"},domProps:{value:e.roomJoinCode},on:{input:function(t){t.target.composing||(e.roomJoinCode=t.target.value)}}})]),a("div",[a("button",{staticClass:"btn btn-success",on:{click:function(t){return e.joinGameRoom()}}},[e._v("Join")])])]):e._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.game,expression:"game"}],attrs:{id:"game"}},[a("div",{staticClass:"arena"},[a("div",{staticClass:"players"},e._l(e.onlinePlayers,(function(t){return a("div",{key:t.playerId,staticClass:"playersCard"},[a("div",{staticClass:"playerTitle"},[a("div",{staticClass:"playerName"},[e._v(" "+e._s(t.name)+" has "+e._s(t.cardCount)+" cards ")])])])})),0),a("div",{staticClass:"deck"},[a("div",{staticClass:"deckHeader"},[e._m(0),a("div",{staticClass:"deckAction"},[a("div",[0===e.waitingFor&&e.room.hostId===e.playerId&&e.shouldGiveCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.giveCards}},[e._v("Give cards")]):e._e()]),a("div",[0===e.waitingFor&&e.room.hostId===e.playerId&&e.shouldGiveCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.shuffle}},[e._v("Shuffle")]):e._e()])])]),a("div",{staticClass:"deckTable"},[a("div",{staticClass:"mainDeck"},[a("div",[a("span",[e._v("Main deck ("+e._s(e.standardDeck.deck.length)+" cards)")])]),a("div",[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/deck_card.svg"}})])]),a("div",{staticClass:"cardsByOpponent"},[a("div",{staticClass:"item_1"},[a("span",[e._v("Open card "),e.isCardSelected?a("span",[e._v("selected")]):e._e()])]),a("div",{staticClass:"item_2"},e._l(e.standardDeck.openCards,(function(t){return a("div",{key:t.name,class:["red"===t.color?"cardRed":""],attrs:{card:t},on:{click:function(a){return e.selectOpenCard(t)}}},[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/"+t.value+"_of_"+t.suit+"s.svg"}})])})),0)]),a("div",{staticClass:"cardsBackToDeck"},[e._m(1),a("div",{staticClass:"item_2"},e._l(e.standardDeck.cardsGivenBack.slice(-3),(function(e){return a("div",{key:e.name,class:["red"===e.color?"cardRed":""],attrs:{card:e}},[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/"+e.value+"_of_"+e.suit+"s.svg"}})])})),0)])])]),a("div",{staticClass:"cardLayout"},[a("div",{staticClass:"item_1"},[a("div",{staticClass:"cardTitle"},[a("h4",[e._v(e._s(e.player.name)),e.currentPlayer===e.playerId?a("span",[e._v(", your turn")]):e._e()])]),a("div",[a("h4",[a("span",[e._v("Score: "+e._s(e.player.rank))]),e._v(" | "),a("span",[e._v("Cards: "+e._s(e.player.cards.length))]),e._v(" | "),a("span",[e._v("Selected "+e._s(e.player.selectedCards.length)+" cards "),e.player.selectedCards.length>0?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.clearSelectedCards()}}},[e._v("clear ")]):e._e()])])]),a("div",[a("span",[e._v(e._s(e.player.message))])])]),a("div",{staticClass:"item_2"},[a("div",{staticClass:"playerCards"},e._l(e.player.cards,(function(t){return a("div",{key:t.name,class:["red"===t.color?"cardRed":""],attrs:{card:t},on:{click:function(a){return e.cardSelect(t)}}},[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/"+t.value+"_of_"+t.suit+"s.svg"}})])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.currentPlayer===e.playerId,expression:"currentPlayer === playerId"}],staticClass:"playerActions"},[a("div",[!1===e.player.hasTakenCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.takeOpenCard()}}},[e._v("Take open card")]):e._e()]),a("div",[!1===e.player.hasTakenCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.takeCardFromDeck()}}},[e._v("Take deck card")]):e._e()]),a("div",[!0===e.player.showGiveCard?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.giveCard()}}},[e._v("Give Cards")]):e._e()]),a("div",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.show()}}},[e._v("Show")])])])])])]),a("div",{staticClass:"infoBoard"},[e._m(2),a("div",[e._m(3),a("div",{staticClass:"roonInfo ml-2"},[a("div",[a("span",[e._v("Room Join Code: ")]),e._v(" "),a("span",{staticClass:"text-danger font-weight-bold"},[e._v(e._s(e.room.id))])]),a("div",[a("span",[e._v("Waiting for players: ")]),a("span",{staticClass:"text-danger font-weight-bold"},[e._v(e._s(e.waitingFor))])])])]),e._m(4)])]),a("b-modal",{attrs:{"hide-footer":""},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("div",{staticClass:"d-block text-center"},[a("h3",{staticClass:"resultTitle"},[e._v(e._s(e.showRequestedBy)+" show bola and he "+e._s(e.result)+" it!!")])]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:e.playAgain}},[e._v("Play Again")]),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:e.hideModal}},[e._v("Close")])],1)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardTitle"},[a("h4",[e._v("The Deck")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item_1"},[a("span",[e._v("Recent cards given back")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"infoBoardTitle"},[a("h3",[e._v("Rules")])]),a("div",{staticClass:"rules ml-2"},[a("div",[e._v(" Player with the lowest score wins! ")]),a("div",[e._v(" A player can take a card from deck or open cards section. ")]),a("div",[e._v(" A player can skip taking a card when having "),a("ul",[e._v("Cards with same number 11, 555.")]),a("ul",[e._v("Cards with same color, same shape and in sequence. ex 1234, JQK.")]),a("ul",[e._v("Card with matching number in open cards section")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"infoBoardTitle"},[a("h3",[e._v("Room")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"infoBoardTitle"},[a("h3",[e._v("Chat")])]),a("div",{staticClass:"chatModal"})])}],o=(a("4de4"),a("4160"),a("caad"),a("c975"),a("45fc"),a("a434"),a("b0c0"),a("2532"),a("159b"),a("8055")),i=a.n(o),c=a("7b1a"),l=a("85ff"),d={name:"App",data:function(){return{socket:{},room:{playersInRoom:[]},roomJoinCode:void 0,playerName:void 0,playerId:void 0,numberOfPlayers:void 0,deckType:void 0,waitingFor:void 0,game:!1,showCreateGame:!0,showJoinGame:!1,standardDeck:new c,player:new l({name:"test"}),shouldGiveCards:!0,currentPlayer:void 0,isCardSelected:!1,openCardSelected:{},modalShow:!1,showRequestedBy:void 0,result:void 0}},created:function(){this.socket=i()("http://localhost:3000")},mounted:function(){var e=this;this.socket.on("room-created",(function(t){e.room=t,"standard-double"===e.room.deckType?e.standardDeck=new c(2):e.standardDeck=new c,e.shuffle(),e.waitingFor=e.room.playersLimit-e.room.playersInRoom.length})),this.socket.on("room-updates",(function(t){e.room=t,e.waitingFor=e.room.playersLimit-e.room.playersInRoom.length})),this.socket.on("deck-updates",(function(t){e.standardDeck=t.deck})),this.socket.on("take-cards",(function(t){t.playersInRoom.forEach((function(t){t.playerId===e.playerId&&(e.player.cards=t.cards,e.player.rankCount(),e.socket.emit("rank",{roomCode:e.room.id,playerId:e.playerId,rank:e.player.rank}))})),e.shouldGiveCards=!1})),this.socket.on("player-added",(function(t){e.player=new l({name:t.name}),e.playerId=t.playerId})),this.socket.on("join-room-error",(function(e){console.log(e)})),this.socket.on("current-turn",(function(t){e.currentPlayer=t.playerId})),this.socket.on("card-updates",(function(t){e.room.playersInRoom.forEach((function(e){t.forEach((function(t){e.playerId===t.playerId&&(e.cardCount=t.cardCount)}))}))})),this.socket.on("result",(function(t){var a=t.players.sort((function(e,t){return e.rank>t.rank?1:-1}));console.log("ranksSorted",a),e.room.playersInRoom.forEach((function(s){s.playerId===t.playerRequested&&(e.showRequestedBy=s.name,s.Id===a[0].playerId?e.result="won":e.result="lost")})),console.log("result")}))},methods:{shuffle:function(){this.standardDeck.shuffle()},btnCreateGameRoom:function(){this.showCreateGame=!0,this.showJoinGame=!1},btnJoinGameRoom:function(){this.showCreateGame=!1,this.showJoinGame=!0},createGameRoom:function(){this.game=!0,this.socket.emit("create-room",{playerName:this.playerName,numberOfPlayers:this.numberOfPlayers,deckType:this.deckType})},joinGameRoom:function(){this.game=!0,this.socket.emit("join-room",{roomCode:this.roomJoinCode,playerName:this.playerName})},giveCards:function(){this.socket.emit("give-cards",{roomCode:this.room.id,deck:this.standardDeck})},selectOpenCard:function(e){this.openCardSelected=e,this.isCardSelected=!0},takeOpenCard:function(){!0===this.isCardSelected?(this.player.cards.push(this.openCardSelected),this.standardDeck.openCards=[],this.isCardSelected=!1,this.player.hasTakenCards=!0,this.player.message="Give card / cards now",this.player.rankCount(),console.log("player.cards",this.player.cards),this.socket.emit("deck-updated",{roomCode:this.room.id,deck:this.standardDeck})):!1===this.isCardSelected&&(this.player.message="Select the open card")},takeCardFromDeck:function(){var e=this.standardDeck.deck.pop();this.player.cards.push(e),this.player.hasTakenCards=!0,this.player.message="Give card / cards now",this.player.rankCount(),console.log("player.cards",this.player.cards),this.socket.emit("deck-updated",{roomCode:this.room.id,deck:this.standardDeck})},canPlayerSkip:function(e,t){var a=!1;return e.some((function(e){t.some((function(t){e.value==t.value&&(a=!0)}))})),a},giveCard:function(){var e=this.player.selectedCards.length;if(0!==e)if(!1!==this.player.hasTakenCards||!1!==this.canPlayerSkip(this.standardDeck.openCards,this.player.selectedCards)){this.standardDeck.openCards=[];for(var t=0;t<e;t++){var a=this.player.selectedCards.pop();this.standardDeck.cardsGivenBack.push(a),this.standardDeck.openCards.push(a),this.player.cards.splice(this.player.cards.indexOf(a),1)}this.player.rankCount(),console.log("giveCard",this.player.cards),this.player.rankCount(),this.player.hasTakenCards=!1,this.player.message="",this.socket.emit("deck-updated",{roomCode:this.room.id,deck:this.standardDeck}),this.socket.emit("next-turn",{roomCode:this.room.id}),this.socket.emit("rank",{roomCode:this.room.id,playerId:this.playerId,rank:this.player.rank}),this.socket.emit("card-updates",{roomCode:this.room.id,playerId:this.playerId,cardCount:this.player.cards.length})}else this.player.message="No matching open cards. Cannot skip!";else this.player.message="Select the cards"},cardSelect:function(e){this.player.selectedCards.includes(e)||(this.player.selectedCards.push(e),this.player.runRules(),this.player.isNumberInSequenceRule||this.player.isColorSuitAndOrderRule?(this.player.message="You can put these cards",this.player.showGiveCard=!0):(this.player.message="You cannot put these cards",this.player.showGiveCard=!1))},clearSelectedCards:function(){this.player.selectedCards=[],this.player.message="",this.player.showGiveCard=!0},show:function(){this.socket.emit("show",{roomCode:this.room.id,playerId:this.playerId}),this.showModal()},showModal:function(){this.modalShow=!0},hideModal:function(){this.modalShow=!1},playAgain:function(){console.log("playAgain")}},computed:{onlinePlayers:function(){var e=this;return this.room.playersInRoom.filter((function(t){if(t.playerId!==e.playerId)return!0}))}}},u=d,h=a("2877"),p=Object(h["a"])(u,r,n,!1,null,null,null),m=p.exports,v=a("5f5b"),f=a("b1e0");s["default"].config.productionTip=!1,s["default"].use(v["a"]),s["default"].use(f["a"]),new s["default"]({render:function(e){return e(m)}}).$mount("#app")},"7b1a":function(e,t,a){a("99af"),a("4160"),a("d3b7"),a("159b"),a("ddb0");var s=a("970b"),r=a("5bc3"),n=a("d4ee"),o=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;s(this,e),this.suits=["spade","diamond","club","heart"],this.values=["ace","2","3","4","5","6","7","8","9","10","jack","queen","king"],this.cardsGivenBack=[],this.openCards=[],this.deck=2===t?this.buildDeck().concat(this.buildDeck()):this.buildDeck()}return r(e,[{key:"buildDeck",value:function(){var e=this,t=[];return this.suits.forEach((function(a){e.values.forEach((function(s){var r={suit:a,value:s,rank:e.setRank(s),color:e.setColor(a),enum:e.setEnum(s)};t.push(new n(r))}))})),t}},{key:"setEnum",value:function(e){return"jack"===e?11:"queen"===e?12:"king"===e?13:"ace"===e?1:parseInt(e)}},{key:"setRank",value:function(e){return"jack"===e|"queen"===e|"king"===e?10:"ace"===e?1:e}},{key:"setColor",value:function(e){return"diamond"===e|"heart"===e?"red":"black"}},{key:"shuffle",value:function(){for(var e=this.deck.length,t=0;t<e/2;t++){var a=this.getRandomInt(0,e-1),s=this.getRandomInt(0,e-1);this.swap(a,s)}for(var r=0;r<e/2;r++){var n=r,o=this.getRandomInt(0,e-1);this.swap(n,o)}}},{key:"swap",value:function(e,t){var a=this.deck[e];this.deck[e]=this.deck[t],this.deck[t]=a}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}]),e}();e.exports=o},"85ff":function(e,t,a){a("a623"),a("4160"),a("d81d"),a("b0c0"),a("159b");var s=a("970b"),r=a("5bc3"),n=function(){"use strict";function e(t){s(this,e),this.name=t.name,this.cards=[],this.rank=0,this.selectedCards=[],this.message="take open card / give card(s)",this.hasTakenCards=!1,this.showGiveCard=!0,this.isNumberInSequenceRule=!1,this.isColorSuitAndOrderRule=!1,this.canGiveCards=!1}return r(e,[{key:"rankCount",value:function(){var e=this;this.rank=0,this.cards.forEach((function(t){e.rank=e.rank+t.rank}))}},{key:"runRules",value:function(){console.log("runRules"),this.isNumberInSequenceRule=this.sameNumberSequence(),this.isColorSuitAndOrderRule=this.sameColorSuitAndOrder()}},{key:"sameNumberSequence",value:function(){return this.selectedCards.every((function(e,t,a){return e.value===a[0].value}))}},{key:"sameColorSequence",value:function(){return this.selectedCards.every((function(e,t,a){return e.color===a[0].color}))}},{key:"sameSuitSequence",value:function(){return this.selectedCards.every((function(e,t,a){return e.suit===a[0].suit}))}},{key:"numbersInOrder",value:function(){for(var e=this.selectedCards.map((function(e){return e.enum})),t=!1,a=e.sort(),s=0;s<=a.length-2;s++)t=a[s]===a[s+1]-1;return t}},{key:"sameColorSuitAndOrder",value:function(){var e=this.sameColorSequence(),t=this.sameSuitSequence(),a=this.numbersInOrder();return e&&t&&a}}]),e}();e.exports=n},d4ee:function(e,t,a){a("b0c0");var s=a("970b"),r=a("5bc3"),n=function(){"use strict";function e(t){s(this,e),this.suit=t.suit,this.value=t.value,this.name=this.fullname(),this.color=t.color,this.enum=t.enum,this.rank=parseInt(t.rank)}return r(e,[{key:"fullname",value:function(){return this.value+" of "+this.suit+"s"}}]),e}();e.exports=n}});
//# sourceMappingURL=app.0d2c948a.js.map