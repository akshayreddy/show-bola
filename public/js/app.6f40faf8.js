(function(e){function t(t){for(var s,i,c=t[0],o=t[1],l=t[2],d=0,v=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(v.length)v.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.game,expression:"!game"}],attrs:{id:"start"}},[a("div",{staticClass:"startNavButtons"},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.btnCreateGame()}}},[e._v("Create game")]),a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.btnJoinGame()}}},[e._v("Join game")])]),e.showCreateGame?a("div",{staticClass:"createGame"},[a("input",{staticClass:"form-control",attrs:{placeholder:"Your game name"}}),e._m(0),e._m(1),a("button",{staticClass:"btn btn-success",on:{click:function(t){return e.createGame()}}},[e._v("Start")])]):e._e(),e.showJoinGame?a("div",{staticClass:"joinGame"},[a("input",{staticClass:"form-control",attrs:{placeholder:"Enter the join code"}}),a("input",{staticClass:"form-control",attrs:{placeholder:"Your game name"}}),a("button",{staticClass:"btn btn-success",on:{click:function(t){return e.joinGame()}}},[e._v("Join")])]):e._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.game,expression:"game"}],attrs:{id:"game"}},[a("div",{staticClass:"arena"},[a("div",{staticClass:"cardLayout"},[a("div",{staticClass:"item_1"},[a("div",{staticClass:"cardTitle"},[a("h4",[e._v(e._s(e.playerA.name)),e.currentPlayer===e.playerA?a("span",[e._v(", your turn")]):e._e()])]),a("div",[a("h4",[a("span",[e._v("Score: "+e._s(e.playerA.rank))]),e._v(" | "),a("span",[e._v("Cards: "+e._s(e.playerA.cards.length))]),e._v(" | "),a("span",[e._v("Selected "+e._s(e.playerA.selectedCards.length)+" cards "),e.playerA.selectedCards.length>0?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.clearSelectedCards(e.playerA)}}},[e._v("clear ")]):e._e()])])]),a("div",[a("span",[e._v(e._s(e.playerA.message))])])]),a("div",{staticClass:"item_2"},[a("div",{staticClass:"playerCards"},e._l(e.playerA.cards,(function(t){return a("div",{key:t.name,class:["red"===t.color?"cardRed":""],attrs:{card:t},on:{click:function(a){return e.cardSelect(t,e.playerA)}}},[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/"+t.value+"_of_"+t.suit+"s.svg"}})])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.currentPlayer===e.playerA,expression:"currentPlayer === playerA"}],staticClass:"playerActions"},[a("div",[!1===e.playerA.hasTakenCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.takeOpenCard(e.playerA)}}},[e._v("Take open card")]):e._e()]),a("div",[!1===e.playerA.hasTakenCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.takeCardFromDeck(e.playerA)}}},[e._v("Take deck card")]):e._e()]),a("div",[!0===e.playerA.showGiveCard?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.giveCard(e.playerA)}}},[e._v("Give Cards")]):e._e()]),a("div",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.show()}}},[e._v("Show")])])])])]),a("div",{staticClass:"deck"},[a("div",{staticClass:"deckHeader"},[e._m(2),a("div",{staticClass:"deckAction"},[a("div",[e.shouldGiveCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.giveCards}},[e._v("Give cards")]):e._e()]),a("div",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.shuffle}},[e._v("Shuffle")])])])]),a("div",{staticClass:"deckTable"},[a("div",{staticClass:"mainDeck"},[a("div",[a("span",[e._v("Main deck ("+e._s(e.standardDeck.deck.length)+" cards)")])]),a("div",[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/deck_card.svg"}})])]),a("div",{staticClass:"cardsByOpponent"},[a("div",{staticClass:"item_1"},[a("span",[e._v("Open card "),e.isCardSelected?a("span",[e._v("selected")]):e._e()])]),a("div",{staticClass:"item_2"},e._l(e.openCards,(function(t){return a("div",{key:t.name,class:["red"===t.color?"cardRed":""],attrs:{card:t},on:{click:function(a){return e.selectOpenCard(t)}}},[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/"+t.value+"_of_"+t.suit+"s.svg"}})])})),0)]),a("div",{staticClass:"cardsBackToDeck"},[e._m(3),a("div",{staticClass:"item_2"},e._l(e.standardDeck.cardsGivenBack.slice(-3),(function(e){return a("div",{key:e.name,class:["red"===e.color?"cardRed":""],attrs:{card:e}},[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/"+e.value+"_of_"+e.suit+"s.svg"}})])})),0)])])]),a("div",{staticClass:"cardLayout"},[a("div",{staticClass:"item_1"},[a("div",{staticClass:"cardTitle"},[a("h4",[e._v(e._s(e.playerB.name)),e.currentPlayer===e.playerB?a("span",[e._v(", your turn")]):e._e()])]),a("div",[a("h4",[a("span",[e._v("Score: "+e._s(e.playerB.rank))]),e._v(" | "),a("span",[e._v("Cards: "+e._s(e.playerB.cards.length))]),e._v(" | "),a("span",[e._v("Selected "+e._s(e.playerB.selectedCards.length)+" cards "),e.playerB.selectedCards.length>0?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(t){return e.clearSelectedCards(e.playerB)}}},[e._v("clear ")]):e._e()])])]),a("div",[a("span",[e._v(e._s(e.playerB.message))])])]),a("div",{staticClass:"item_2"},[a("div",{staticClass:"playerCards"},e._l(e.playerB.cards,(function(t){return a("div",{key:t.name,class:["red"===t.color?"cardRed":""],attrs:{card:t},on:{click:function(a){return e.cardSelect(t,e.playerB)}}},[a("img",{attrs:{width:"150px",height:"150px",viewBox:"0 0 150 150",src:"./media/svg/"+t.value+"_of_"+t.suit+"s.svg"}})])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.currentPlayer===e.playerB,expression:"currentPlayer === playerB"}],staticClass:"playerActions",attrs:{span:""}},[a("div",[!1===e.playerB.hasTakenCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.takeOpenCard(e.playerB)}}},[e._v("Take open card")]):e._e()]),a("div",[!1===e.playerB.hasTakenCards?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.takeCardFromDeck(e.playerB)}}},[e._v("Take deck card")]):e._e()]),a("div",[!0===e.playerB.showGiveCard?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.giveCard(e.playerB)}}},[e._v("Give Cards")]):e._e()]),a("div",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.show()}}},[e._v("Show")])])])])])]),e._m(4)])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("select",{staticClass:"custom-select"},[a("option",{attrs:{value:"null"}},[e._v("Number of players")]),a("option",{attrs:{value:"2"}},[e._v("Two")]),a("option",{attrs:{value:"3"}},[e._v("Three")]),a("option",{attrs:{value:"2"}},[e._v("Four")]),a("option",{attrs:{value:"3"}},[e._v("Five")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("select",{staticClass:"custom-select"},[a("option",{attrs:{value:"null"}},[e._v("Deck type")]),a("option",{attrs:{value:"standard-single"}},[e._v("Standard (52 cards)")]),a("option",{attrs:{value:"standard-double"}},[e._v("Standard (104 cards)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardTitle"},[a("h4",[e._v("The Deck")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item_1"},[a("span",[e._v("Recent cards given back")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leaderBoard"},[a("span",[e._v("Leader board")])])}],i=(a("caad"),a("c975"),a("45fc"),a("a434"),a("b0c0"),a("2532"),a("8055")),c=a.n(i),o=a("7b1a"),l=a("85ff"),u=new o,d=new l({name:"Santhu"}),v=new l({name:"Guru"}),p={name:"App",data:function(){return{socket:{},game:!1,showCreateGame:!0,showJoinGame:!1,standardDeck:u,playerA:d,playerB:v,cardSelectedByPlayerA:d.selectedCards,cardSelectedByPlayerB:v.selectedCards,shouldGiveCards:!0,openCards:[],currentPlayer:d,isCardSelected:!1,openCardSelected:{}}},created:function(){this.socket=c()("http://localhost:3000")},mounted:function(){this.socket.on("giveCards",(function(e){console.log(e)}))},methods:{shuffle:function(){this.standardDeck.shuffle()},btnCreateGame:function(){this.showCreateGame=!0,this.showJoinGame=!1},btnJoinGame:function(){this.showCreateGame=!1,this.showJoinGame=!0},createGame:function(){this.game=!0,this.game=!0},joinGame:function(){},giveCards:function(){for(var e=5,t=0;t<e;t++)d.cards.push(u.deck.pop()),v.cards.push(u.deck.pop());d.rankCount(),v.rankCount(),this.openCards.push(u.deck.pop()),this.shouldGiveCards=!1,this.socket.emit("giveCards",d)},selectOpenCard:function(e){this.openCardSelected=e,this.isCardSelected=!0},takeOpenCard:function(e){!0===this.isCardSelected?(e.cards.push(this.openCardSelected),this.openCards=[],this.isCardSelected=!1,e.hasTakenCards=!0,e.message="Give card / cards now"):!1===this.isCardSelected&&(e.message="Select the open card")},takeCardFromDeck:function(e){var t=u.deck.pop();e.cards.push(t),e.rank=e.rank+t.rank,e.hasTakenCards=!0,e.message="Give card / cards now"},canPlayerSkip:function(e,t){var a=!1;return e.some((function(e){t.some((function(t){e.value==t.value&&(a=!0)}))})),a},giveCard:function(e){var t=e.selectedCards.length;if(0!==t)if(!1!==e.hasTakenCards||!1!==this.canPlayerSkip(this.openCards,e.selectedCards)){this.openCards=[];for(var a=0;a<t;a++){var s=e.selectedCards.pop();u.cardsGivenBack.push(s),this.openCards.push(s),e.cards.splice(e.cards.indexOf(s),1),e.rank=e.rank-s.rank}e.hasTakenCards=!1,e.message="",e===this.playerA?this.currentPlayer=this.playerB:this.currentPlayer=this.playerA,this.socket.emit("playerGaveCard",e)}else e.message="No matching open cards. Cannot skip!";else e.message="Select the cards"},cardSelect:function(e,t){t.selectedCards.includes(e)||(t.selectedCards.push(e),t.runRules(),t.isNumberInSequenceRule||t.isColorSuitAndOrderRule?(t.message="You can put these cards",t.showGiveCard=!0):(t.message="You cannot put these cards",t.showGiveCard=!1))},clearSelectedCards:function(e){e.selectedCards=[],e.message="",e.showGiveCard=!0},show:function(){var e=this.playerA.rank,t=this.playerB.rank;e<t?alert(this.playerA.name+" Won!!"):alert(this.playerB.name+" Won!!")}}},h=p,m=a("2877"),f=Object(m["a"])(h,r,n,!1,null,null,null),C=f.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(C)}}).$mount("#app")},"7b1a":function(e,t,a){a("4160"),a("d3b7"),a("159b"),a("ddb0");var s=a("970b"),r=a("5bc3"),n=a("d4ee"),i=function(){"use strict";function e(){s(this,e),this.suits=["spade","diamond","club","heart"],this.values=["ace","2","3","4","5","6","7","8","9","10","jack","queen","king"],this.deck=this.buildDeck(),this.cardsGivenBack=[]}return r(e,[{key:"buildDeck",value:function(){var e=this,t=[];return this.suits.forEach((function(a){e.values.forEach((function(s){var r={suit:a,value:s,rank:e.setRank(s),color:e.setColor(a),enum:e.setEnum(s)};t.push(new n(r))}))})),t}},{key:"setEnum",value:function(e){return"jack"===e?11:"queen"===e?12:"king"===e?13:"ace"===e?1:parseInt(e)}},{key:"setRank",value:function(e){return"jack"===e|"queen"===e|"king"===e?10:"ace"===e?1:e}},{key:"setColor",value:function(e){return"diamond"===e|"heart"===e?"red":"black"}},{key:"shuffle",value:function(){for(var e=this.deck.length,t=0;t<e/2;t++){var a=this.getRandomInt(0,e-1),s=this.getRandomInt(0,e-1);this.swap(a,s)}for(var r=0;r<e/2;r++){var n=r,i=this.getRandomInt(0,e-1);this.swap(n,i)}}},{key:"swap",value:function(e,t){var a=this.deck[e];this.deck[e]=this.deck[t],this.deck[t]=a}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}]),e}();e.exports=i},"85ff":function(e,t,a){a("a623"),a("4160"),a("d81d"),a("b0c0"),a("159b");var s=a("970b"),r=a("5bc3"),n=function(){"use strict";function e(t){s(this,e),this.name=t.name,this.cards=[],this.rank=0,this.selectedCards=[],this.message="take open card / give card(s)",this.hasTakenCards=!1,this.showGiveCard=!0,this.isNumberInSequenceRule=!1,this.isColorSuitAndOrderRule=!1,this.canGiveCards=!1}return r(e,[{key:"rankCount",value:function(){var e=this;this.cards.forEach((function(t){e.rank=e.rank+t.rank}))}},{key:"runRules",value:function(){console.log("runRules"),this.isNumberInSequenceRule=this.sameNumberSequence(),this.isColorSuitAndOrderRule=this.sameColorSuitAndOrder()}},{key:"sameNumberSequence",value:function(){return this.selectedCards.every((function(e,t,a){return e.value===a[0].value}))}},{key:"sameColorSequence",value:function(){return this.selectedCards.every((function(e,t,a){return e.color===a[0].color}))}},{key:"sameSuitSequence",value:function(){return this.selectedCards.every((function(e,t,a){return e.suit===a[0].suit}))}},{key:"numbersInOrder",value:function(){for(var e=this.selectedCards.map((function(e){return e.enum})),t=!1,a=e.sort(),s=0;s<=a.length-2;s++)t=a[s]===a[s+1]-1;return t}},{key:"sameColorSuitAndOrder",value:function(){var e=this.sameColorSequence(),t=this.sameSuitSequence(),a=this.numbersInOrder();return e&&t&&a}}]),e}();e.exports=n},d4ee:function(e,t,a){a("b0c0");var s=a("970b"),r=a("5bc3"),n=function(){"use strict";function e(t){s(this,e),this.suit=t.suit,this.value=t.value,this.name=this.fullname(),this.color=t.color,this.enum=t.enum,this.rank=parseInt(t.rank)}return r(e,[{key:"fullname",value:function(){return this.value+" of "+this.suit+"s"}}]),e}();e.exports=n}});
//# sourceMappingURL=app.6f40faf8.js.map